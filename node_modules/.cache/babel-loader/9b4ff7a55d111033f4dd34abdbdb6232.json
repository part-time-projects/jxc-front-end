{"remainingRequest":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\thread-loader\\dist\\cjs.js!D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\ideaworkspace\\jxc-front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ideaworkspace\\jxc-front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ideaworkspace\\jxc-front-end\\src\\views\\modules\\online\\cgform\\auto\\erp\\OnlCgformErpList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ideaworkspace\\jxc-front-end\\src\\views\\modules\\online\\cgform\\auto\\erp\\OnlCgformErpList.vue","mtime":1648374778127},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648365135345},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1648365139913},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1648365068269},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648365135345},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1648364957239}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from '@/api/manage';\nexport default {\n  name: 'OnlCgformErpList',\n  components: {},\n  data: function data() {\n    return {\n      code: '',\n      url: {\n        getColumns: '/online/cgform/api/getErpColumns/'\n      },\n      mainModel: {},\n      subList: [],\n      mainId: '',\n      selectedRow: {}\n    };\n  },\n  watch: {\n    '$route': function $route() {\n      // 刷新参数放到这里去触发，就可以刷新相同界面了\n      this.initColumnConfig();\n    }\n  },\n  created: function created() {\n    this.initColumnConfig();\n  },\n  methods: {\n    getSubIndex: function getSubIndex(index) {\n      return index + 1 + '';\n    },\n    getSubRef: function getSubRef(item) {\n      var ref = item.currentTableName;\n      console.log(\"ref string\", ref);\n      return ref;\n    },\n    initColumnConfig: function initColumnConfig() {\n      var _this = this;\n\n      if (!this.$route.params.code) {\n        return false;\n      }\n\n      this.code = this.$route.params.code;\n      getAction(\"\".concat(this.url.getColumns).concat(this.code)).then(function (res) {\n        console.log(\"erp表单配置\", res);\n\n        if (res.success) {\n          _this.mainModel = res.result.main;\n          _this.subList = res.result.subList;\n\n          _this.$nextTick(function () {\n            _this.$refs['onl_' + _this.mainModel.currentTableName].initListByModel();\n\n            if (_this.subList && _this.subList.length > 0) {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = _this.subList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var item = _step.value;\n\n                  _this.$refs[item.currentTableName][0].initListByModel();\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          });\n        }\n      });\n    },\n    onSelected: function onSelected(row) {\n      console.log(\"onSelected\", row);\n      this.selectedRow = row;\n    }\n  }\n};",null]}