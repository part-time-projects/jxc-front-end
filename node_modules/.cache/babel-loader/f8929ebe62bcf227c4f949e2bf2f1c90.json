{"remainingRequest":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\thread-loader\\dist\\cjs.js!D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\ideaworkspace\\jxc-front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\ideaworkspace\\jxc-front-end\\src\\api\\manage.js","dependencies":[{"path":"D:\\ideaworkspace\\jxc-front-end\\src\\api\\manage.js","mtime":1648374777494},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648365135345},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1648365139913},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1648365068269},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1648365119872}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport { axios } from '@/utils/request';\nvar api = {\n  user: '/api/user',\n  role: '/api/role',\n  service: '/api/service',\n  permission: '/api/permission',\n  permissionNoPager: '/api/permission/no-pager'\n};\nexport default api; //post\n\nexport function postAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'post',\n    data: parameter\n  });\n} //post method= {post | put}\n\nexport function httpAction(url, parameter, method) {\n  return axios({\n    url: url,\n    method: method,\n    data: parameter\n  });\n} //put\n\nexport function putAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'put',\n    data: parameter\n  });\n} //get\n\nexport function getAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'get',\n    params: parameter\n  });\n} //deleteAction\n\nexport function deleteAction(url, parameter) {\n  return axios({\n    url: url,\n    method: 'delete',\n    params: parameter\n  });\n}\nexport function getUserList(parameter) {\n  return axios({\n    url: api.user,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getRoleList(parameter) {\n  return axios({\n    url: api.role,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getServiceList(parameter) {\n  return axios({\n    url: api.service,\n    method: 'get',\n    params: parameter\n  });\n}\nexport function getPermissions(parameter) {\n  return axios({\n    url: api.permissionNoPager,\n    method: 'get',\n    params: parameter\n  });\n} // id == 0 add     post\n// id != 0 update  put\n\nexport function saveService(parameter) {\n  return axios({\n    url: api.service,\n    method: parameter.id == 0 ? 'post' : 'put',\n    data: parameter\n  });\n}\n/**\r\n * 下载文件 用于excel导出\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function downFile(url, parameter) {\n  return axios({\n    url: url,\n    params: parameter,\n    method: 'get',\n    responseType: 'blob'\n  });\n}\n/**\r\n * 下载文件\r\n * @param url 文件路径\r\n * @param fileName 文件名\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function downloadFile(url, fileName, parameter) {\n  return downFile(url, parameter).then(function (data) {\n    if (!data || data.size === 0) {\n      Vue.prototype['$message'].warning('文件下载失败');\n      return;\n    }\n\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n      window.navigator.msSaveBlob(new Blob([data]), fileName);\n    } else {\n      var _url = window.URL.createObjectURL(new Blob([data]));\n\n      var link = document.createElement('a');\n      link.style.display = 'none';\n      link.href = _url;\n      link.setAttribute('download', fileName);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link); //下载完成移除元素\n\n      window.URL.revokeObjectURL(_url); //释放掉blob对象\n    }\n  });\n}\n/**\r\n * 文件上传 用于富文本上传图片\r\n * @param url\r\n * @param parameter\r\n * @returns {*}\r\n */\n\nexport function uploadAction(url, parameter) {\n  return axios({\n    url: url,\n    data: parameter,\n    method: 'post',\n    headers: {\n      'Content-Type': 'multipart/form-data' // 文件上传\n\n    }\n  });\n}\n/**\r\n * 获取文件服务访问路径\r\n * @param avatar\r\n * @param subStr\r\n * @returns {*}\r\n */\n\nexport function getFileAccessHttpUrl(avatar, subStr) {\n  if (!subStr) subStr = 'http';\n\n  if (avatar && avatar.startsWith(subStr)) {\n    return avatar;\n  } else {\n    if (avatar && avatar.length > 0 && avatar.indexOf('[') == -1) {\n      return window._CONFIG['staticDomainURL'] + \"/\" + avatar;\n    }\n  }\n}",null]}