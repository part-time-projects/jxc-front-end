{"remainingRequest":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\ideaworkspace\\jxc-front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\ideaworkspace\\jxc-front-end\\src\\mixins\\OnlAutoListMixin.js","dependencies":[{"path":"D:\\ideaworkspace\\jxc-front-end\\src\\mixins\\OnlAutoListMixin.js","mtime":1648374777575},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648365135345},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1648365068269},{"path":"D:\\ideaworkspace\\jxc-front-end\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1648365119872}],"contextDependencies":[],"result":["export var HrefJump = {\n  data: function data() {\n    var _this = this;\n\n    return {\n      fieldHrefSlots: [],\n      hrefComponent: {\n        model: {\n          title: '',\n          width: '100%',\n          visible: false,\n          destroyOnClose: true,\n          style: {\n            top: 0,\n            left: 0,\n            height: '100%',\n            margin: 0,\n            padding: 0\n          },\n          bodyStyle: {\n            padding: '8px',\n            height: 'calc(100vh - 108px)',\n            overflow: 'auto',\n            overflowX: 'hidden'\n          },\n          // 隐藏掉取消按钮\n          cancelButtonProps: {\n            style: {\n              display: 'none'\n            }\n          },\n          afterClose: function afterClose() {\n            // 恢复body的滚动\n            document.body.style.overflow = null;\n          }\n        },\n        on: {\n          ok: function ok() {\n            return _this.hrefComponent.model.visible = false;\n          },\n          cancel: function cancel() {\n            return _this.hrefComponent.model.visible = false;\n          }\n        },\n        is: null,\n        params: {}\n      }\n    };\n  },\n  methods: {\n    //支持链接href跳转\n    handleClickFieldHref: function handleClickFieldHref(field, record) {\n      var href = field.href;\n      var urlPattern = /(ht|f)tp(s?)\\:\\/\\/[0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\/?)([a-zA-Z0-9\\-\\.\\?\\,\\'\\/\\\\\\+&amp;%\\$#_]*)?/;\n      var compPattern = /\\.vue(\\?.*)?$/;\n\n      if (typeof href === 'string') {\n        href = href.trim().replace(/\\${([^}]+)?}/g, function (s1, s2) {\n          return record[s2];\n        });\n\n        if (urlPattern.test(href)) {\n          window.open(href, '_blank');\n        } else if (compPattern.test(href)) {\n          this.openHrefCompModal(href);\n        } else {\n          this.$router.push(href);\n        }\n      }\n    },\n    openHrefCompModal: function openHrefCompModal(href) {\n      // 解析 href 参数\n      var index = href.indexOf('?');\n      var path = href;\n\n      if (index !== -1) {\n        path = href.substring(0, index);\n        var paramString = href.substring(index + 1, href.length);\n        var paramArray = paramString.split('&');\n        var params = {};\n        paramArray.forEach(function (paramObject) {\n          var paramItem = paramObject.split('=');\n          params[paramItem[0]] = paramItem[1];\n        });\n        this.hrefComponent.params = params;\n      } else {\n        this.hrefComponent.params = {};\n      }\n\n      this.hrefComponent.model.visible = true;\n      this.hrefComponent.model.title = '@/views/' + path;\n\n      this.hrefComponent.is = function () {\n        return import('@/views/' + (path.startsWith('/') ? path.slice(1) : path));\n      }; // 禁止body滚动，防止滚动穿透\n\n\n      setTimeout(function () {\n        document.body.style.overflow = 'hidden';\n      }, 300);\n    }\n  }\n};",{"version":3,"sources":["D:/ideaworkspace/jxc-front-end/src/mixins/OnlAutoListMixin.js"],"names":["HrefJump","data","fieldHrefSlots","hrefComponent","model","title","width","visible","destroyOnClose","style","top","left","height","margin","padding","bodyStyle","overflow","overflowX","cancelButtonProps","display","afterClose","document","body","on","ok","cancel","is","params","methods","handleClickFieldHref","field","record","href","urlPattern","compPattern","trim","replace","s1","s2","test","window","open","openHrefCompModal","$router","push","index","indexOf","path","substring","paramString","length","paramArray","split","forEach","paramObject","paramItem","startsWith","slice","setTimeout"],"mappings":"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","sourcesContent":["export const HrefJump = {\r\n  data() {\r\n    return {\r\n      fieldHrefSlots: [],\r\n      hrefComponent: {\r\n        model: {\r\n          title: '',\r\n          width: '100%',\r\n          visible: false,\r\n          destroyOnClose: true,\r\n          style: {\r\n            top: 0,\r\n            left: 0,\r\n            height: '100%',\r\n            margin: 0,\r\n            padding: 0\r\n          },\r\n          bodyStyle: { padding: '8px', height: 'calc(100vh - 108px)', overflow: 'auto', overflowX: 'hidden' },\r\n          // 隐藏掉取消按钮\r\n          cancelButtonProps: { style: { display: 'none' } },\r\n          afterClose: () => {\r\n            // 恢复body的滚动\r\n            document.body.style.overflow = null\r\n          }\r\n        },\r\n        on: {\r\n          ok: () => this.hrefComponent.model.visible = false,\r\n          cancel: () => this.hrefComponent.model.visible = false\r\n        },\r\n        is: null,\r\n        params: {},\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //支持链接href跳转\r\n    handleClickFieldHref(field, record) {\r\n      let href = field.href\r\n      let urlPattern = /(ht|f)tp(s?)\\:\\/\\/[0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*(:(0-9)*)*(\\/?)([a-zA-Z0-9\\-\\.\\?\\,\\'\\/\\\\\\+&amp;%\\$#_]*)?/\r\n      let compPattern = /\\.vue(\\?.*)?$/\r\n      if (typeof href === 'string') {\r\n        href = href.trim().replace(/\\${([^}]+)?}/g, (s1, s2) => record[s2])\r\n        if (urlPattern.test(href)) {\r\n          window.open(href, '_blank')\r\n        } else if (compPattern.test(href)) {\r\n          this.openHrefCompModal(href)\r\n        } else {\r\n          this.$router.push(href)\r\n        }\r\n      }\r\n    },\r\n    openHrefCompModal(href) {\r\n      // 解析 href 参数\r\n      let index = href.indexOf('?')\r\n      let path = href\r\n      if (index !== -1) {\r\n        path = href.substring(0, index)\r\n        let paramString = href.substring(index + 1, href.length)\r\n        let paramArray = paramString.split('&')\r\n        let params = {}\r\n        paramArray.forEach(paramObject => {\r\n          let paramItem = paramObject.split('=')\r\n          params[paramItem[0]] = paramItem[1]\r\n        })\r\n        this.hrefComponent.params = params\r\n      } else {\r\n        this.hrefComponent.params = {}\r\n      }\r\n      this.hrefComponent.model.visible = true\r\n      this.hrefComponent.model.title = '@/views/' + path\r\n      this.hrefComponent.is = () => import('@/views/' + (path.startsWith('/')?path.slice(1):path))\r\n      // 禁止body滚动，防止滚动穿透\r\n      setTimeout(() => {\r\n        document.body.style.overflow = 'hidden'\r\n      }, 300)\r\n    },\r\n  }\r\n}"]}]}