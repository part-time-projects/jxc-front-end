{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0d9e0092\"],{6610:function(e,t,a){},\"806e\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-row\",{attrs:{gutter:10}},[a(\"a-col\",{attrs:{md:8,sm:24}},[a(\"a-card\",{attrs:{bordered:!1}},[a(\"div\",{staticStyle:{background:\"#fff\",\"padding-left\":\"16px\",height:\"100%\",\"margin-top\":\"5px\"}},[a(\"a-input-search\",{staticStyle:{width:\"100%\",\"margin-top\":\"10px\"},attrs:{placeholder:\"请输入部门名称\"},on:{search:e.onSearch}}),\"2\"===e.userIdentity&&e.departTree.length>0?[a(\"a-tree\",{attrs:{showLine:\"\",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:\"200px\",overflow:\"auto\"},treeData:e.departTree,autoExpandParent:e.autoExpandParent,expandedKeys:e.iExpandedKeys},on:{select:e.onSelect,expand:e.onExpand}})]:\"2\"===e.userIdentity&&0==e.departTree.length?a(\"div\",{staticStyle:{\"margin-top\":\"24px\"}},[a(\"h3\",[a(\"span\",[e._v(\"您的部门下暂无有效部门信息\")])])]):a(\"div\",{staticStyle:{\"margin-top\":\"24px\"}},[a(\"h3\",[e._v(\"普通员工暂此权限\")])])],2)])],1),a(\"a-col\",{attrs:{md:16,sm:24}},[a(\"a-card\",{attrs:{bordered:!1}},[a(\"a-tabs\",{attrs:{defaultActiveKey:\"2\"},on:{change:e.callback}},[a(\"a-tab-pane\",{key:\"1\",attrs:{tab:\"基本信息\",forceRender:\"\"}},[a(\"Dept-Base-Info\",{ref:\"DeptBaseInfo\"})],1),a(\"a-tab-pane\",{key:\"2\",attrs:{tab:\"用户信息\"}},[a(\"Dept-User-Info\",{ref:\"DeptUserInfo\",on:{clearSelectedDepartKeys:e.clearSelectedDepartKeys}})],1),a(\"a-tab-pane\",{key:\"3\",attrs:{tab:\"部门角色\",forceRender:\"\"}},[a(\"dept-role-info\",{ref:\"DeptRoleInfo\",on:{clearSelectedDepartKeys:e.clearSelectedDepartKeys}})],1)],1)],1)],1)],1)},o=[],s=a(\"e326\"),l=a(\"5859\"),n=a(\"4ec3\"),i=a(\"b65a\"),d=a(\"24b9\"),p={name:\"DepartUserList\",mixins:[i[\"a\"]],components:{DeptRoleInfo:d[\"default\"],DeptBaseInfo:s[\"default\"],DeptUserInfo:l[\"default\"]},data:function(){return{currentDeptId:\"\",iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:\"\",currFlowName:\"\",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:\"\",hiding:!0,model:{},dropTrigger:\"\",depart:{},disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]},userIdentity:\"\"}},methods:{callback:function(e){},loadData:function(){this.refresh()},clearSelectedDepartKeys:function(){this.checkedKeys=[],this.selectedKeys=[],this.currentDeptId=\"\",this.$refs.DeptUserInfo.currentDeptId=\"\",this.$refs.DeptRoleInfo.currentDeptId=\"\"},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(n[\"G\"])().then((function(a){if(a.success&&a.result){for(var r=0;r<a.result.length;r++){var o=a.result[r];t.treeData.push(o),t.departTree.push(o),t.setThisExpandedKeys(o)}e.loading=!1}t.userIdentity=a.message}))},setThisExpandedKeys:function(e){e.children&&e.children.length>0&&this.iExpandedKeys.push(e.key)},refresh:function(){this.loading=!0,this.loadTree()},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},onSearch:function(e){var t=this;e?Object(n[\"T\"])({keyWord:e,myDeptSearch:\"1\"}).then((function(e){if(e.success){t.departTree=[];for(var a=0;a<e.result.length;a++){var r=e.result[a];t.departTree.push(r)}}else t.$message.warning(e.message)})):t.loadTree()},onCheck:function(e,t){var a=t.node.dataRef;this.checkedKeys=[],this.currentDeptId=a.id,this.checkedKeys.push(a.id),this.$refs.DeptBaseInfo.open(a),this.$refs.DeptUserInfo.open(a),this.$refs.DeptRoleInfo.open(a),this.hiding=!1},onSelect:function(e,t){this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]);var a=t.node.dataRef;this.checkedKeys.push(a.id),this.$refs.DeptBaseInfo.open(a),this.$refs.DeptUserInfo.onClearSelected(),this.$refs.DeptUserInfo.open(a),this.$refs.DeptRoleInfo.onClearSelected(),this.$refs.DeptRoleInfo.open(a)}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name}},c=p,u=(a(\"b8d2\"),a(\"2877\")),f=Object(u[\"a\"])(c,r,o,!1,null,\"4bb06339\",null);t[\"default\"]=f.exports},b8d2:function(e,t,a){\"use strict\";var r=a(\"6610\"),o=a.n(r);o.a},d28b:function(e,t,a){\"use strict\";var r=a(\"f73f\"),o=a.n(r);o.a},e326:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-card\",{attrs:{visible:e.visible}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"机构名称\"}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"departName\",{}],expression:\"['departName', {}]\"}],staticStyle:{border:\"0px\"},attrs:{placeholder:\"\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"上级部门\"}},[a(\"a-tree-select\",{staticStyle:{width:\"100%\",border:\"none\",outline:\"none\"},attrs:{disabled:\"\",dropdownStyle:{maxHeight:\"200px\",overflow:\"auto\"},treeData:e.treeData,placeholder:\"无\"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,\"parentId\",t)},expression:\"model.parentId\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"机构编码\"}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"orgCode\",{}],expression:\"['orgCode', {}]\"}],staticStyle:{border:\"0px\"},attrs:{placeholder:\"\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"机构类型\"}},[a(\"a-radio-group\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"orgCategory\",{}],expression:\"['orgCategory',{}]\"}],attrs:{disabled:!0,placeholder:\"请选择机构类型\"}},[a(\"a-radio\",{attrs:{value:\"1\"}},[e._v(\"\\n            公司\\n          \")]),a(\"a-radio\",{attrs:{value:\"2\"}},[e._v(\"\\n            部门\\n          \")]),a(\"a-radio\",{attrs:{value:\"3\"}},[e._v(\"\\n            岗位\\n          \")])],1)],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"排序\"}},[a(\"a-input-number\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"departOrder\",{}],expression:\"[ 'departOrder',{}]\"}],staticStyle:{border:\"0px\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"手机号\"}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"mobile\",{}],expression:\"['mobile', {}]\"}],staticStyle:{border:\"0px\"},attrs:{placeholder:\"\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"地址\"}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"address\",{}],expression:\"['address', {}]\"}],staticStyle:{border:\"0px\"},attrs:{placeholder:\"\"}})],1),a(\"a-form-item\",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:\"备注\"}},[a(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"memo\",{}],expression:\"['memo', {}]\"}],staticStyle:{border:\"0px\"},attrs:{placeholder:\"\"}})],1)],1)],1)},o=[],s=a(\"88bc\"),l=a.n(s),n=a(\"4ec3\"),i={name:\"DeptBaseInfo\",components:{},data:function(){return{departTree:[],id:\"\",model:{},visible:!1,disable:!0,treeData:[],form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}}},created:function(){this.loadTreeData()},methods:{loadTreeData:function(){var e=this;Object(n[\"F\"])().then((function(t){if(t.success)for(var a=0;a<t.result.length;a++){var r=t.result[a];e.treeData.push(r)}}))},open:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(e,\"orgCategory\",\"departName\",\"parentId\",\"orgCode\",\"departOrder\",\"mobile\",\"fax\",\"address\",\"memo\"))}))},clearForm:function(){this.form.resetFields(),this.treeData=[]}}},d=i,p=(a(\"d28b\"),a(\"2877\")),c=Object(p[\"a\"])(d,r,o,!1,null,\"08f3ab94\",null);t[\"default\"]=c.exports},f73f:function(e,t,a){}}]);","extractedComments":[]}