{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-f9f91d1e\",\"chunk-2d0b3496\",\"chunk-5de85883\",\"chunk-4afb1134\",\"chunk-2d22dd3c\",\"chunk-2d0e8ba8\",\"chunk-2d21a756\",\"chunk-5de85883\",\"chunk-4afb1134\"],{\"0ee5\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r(\"j-modal\",{attrs:{title:\"销售出库 - \"+t.title,width:t.width,visible:t.visible,confirmLoading:t.confirmLoading,maskClosable:!1,keyboard:!1,forceRender:!0,switchFullscreen:\"\"},on:{cancel:t.handleCancel}},[r(\"template\",{slot:\"footer\"},[\"detail\"!==t.action?r(\"a-button\",{key:\"cancel\",on:{click:t.handleCancel}},[t._v(\"取消\")]):t._e(),t.readOnly?t._e():r(\"a-button\",{key:\"save\",attrs:{type:\"primary\",loading:t.confirmLoading},on:{click:t.handleSave}},[t._v(\"保存\")]),t.readOnly?t._e():r(\"a-button\",{key:\"submit\",attrs:{type:\"primary\",loading:t.confirmLoading},on:{click:t.handleSubmit}},[t._v(\"提交\")]),\"detail\"===t.action?r(\"a-button\",{key:\"close\",attrs:{type:\"primary\"},on:{click:t.handleCancel}},[t._v(\"关闭\")]):t._e(),\"approve\"===t.action?r(\"a-button\",{key:\"approved\",attrs:{type:\"primary\"},on:{click:t.handleApproved}},[t._v(\"审核通过\")]):t._e()],1),r(\"a-spin\",{attrs:{spinning:t.confirmLoading}},[r(\"a-form\",{attrs:{form:t.form}},[r(\"a-row\",[r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"处理状态\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"billProcStatus\",t.validatorRules.billProcStatus],expression:\"['billProcStatus', validatorRules.billProcStatus]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"x_bill_proc_status\"}})],1)],1),r(\"a-col\",{attrs:{span:4}},[r(\"a-form-item\",{attrs:{label:\"是否通过\",labelCol:t.spans.labelCol6,wrapperCol:t.spans.wrapperCol6}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isApproved\",t.validatorRules.isApproved],expression:\"['isApproved', validatorRules.isApproved]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"yn\"}})],1)],1),r(\"a-col\",{attrs:{span:4}},[r(\"a-form-item\",{attrs:{label:\"是否关闭\",labelCol:t.spans.labelCol6,wrapperCol:t.spans.wrapperCol6}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isClosed\",t.validatorRules.isClosed],expression:\"['isClosed', validatorRules.isClosed]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"yn\"}})],1)],1),r(\"a-col\",{attrs:{span:4}},[r(\"a-form-item\",{attrs:{label:\"是否作废\",labelCol:t.spans.labelCol6,wrapperCol:t.spans.wrapperCol6}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isVoided\",t.validatorRules.isVoided],expression:\"['isVoided', validatorRules.isVoided]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"yn\"}})],1)],1),r(\"a-col\",{attrs:{span:4}},[r(\"a\",{staticStyle:{float:\"right\",\"margin-top\":\"10px\"},on:{click:function(){return e.moreStatus=!e.moreStatus}}},[t._v(\"\\n            \"+t._s(t.moreStatus?\"收起\":\"展开\")+\"\\n            \"),r(\"a-icon\",{attrs:{type:t.moreStatus?\"up\":\"down\"}})],1)])],1),r(\"a-row\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.moreStatus,expression:\"moreStatus\"}]},[r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"创建时间\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-date\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"createTime\",t.validatorRules.createTime],expression:\"[ 'createTime', validatorRules.createTime]\"}],staticStyle:{width:\"100%\"},attrs:{readOnly:!0,\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"创建人\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"createBy\",t.validatorRules.createBy],expression:\"['createBy', validatorRules.createBy]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"sys_user,realname,username\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"创建部门\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"sysOrgCode\",t.validatorRules.sysOrgCode],expression:\"['sysOrgCode', validatorRules.sysOrgCode]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"sys_depart,depart_name,org_code\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"生效时间\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-date\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"effectiveTime\",t.validatorRules.effectiveTime],expression:\"[ 'effectiveTime', validatorRules.effectiveTime]\"}],staticStyle:{width:\"100%\"},attrs:{readOnly:!0,showTime:!0,\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"审核人\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"approverId\",t.validatorRules.approverId],expression:\"['approverId', validatorRules.approverId]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"sys_user,realname,username\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"流程\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"flowId\",t.validatorRules.flowId],expression:\"[ 'flowId', validatorRules.flowId]\"}],attrs:{readOnly:!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"修改时间\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-date\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"updateTime\",t.validatorRules.updateTime],expression:\"[ 'updateTime', validatorRules.updateTime]\"}],staticStyle:{width:\"100%\"},attrs:{readOnly:!0,\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"修改人\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"updateBy\",t.validatorRules.updateBy],expression:\"['updateBy', validatorRules.updateBy]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"sys_user,realname,username\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"是否红字\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isRubric\",t.validatorRules.isRubric],expression:\"['isRubric', validatorRules.isRubric]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"yn\"}})],1)],1)],1),r(\"a-row\",[r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"单据编号\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"billNo\",t.validatorRules.billNo],expression:\"[ 'billNo', validatorRules.billNo]\"}],attrs:{readOnly:!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"单据日期\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-date\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"billDate\",t.validatorRules.billDate],expression:\"[ 'billDate', validatorRules.billDate]\"}],staticStyle:{width:\"100%\"},attrs:{readOnly:t.readOnly,placeholder:\"请选择单据日期\",\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"制单人\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"createBy\",t.validatorRules.createBy],expression:\"['createBy', validatorRules.createBy]\"}],attrs:{disabled:\"\",type:\"list\",\"trigger-change\":!0,dictCode:\"sys_user,realname,username\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"源单类型\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"sourceType\",t.validatorRules.sourceType],expression:\"['sourceType', validatorRules.sourceType]\"}],attrs:{disabled:t.readOnly,type:\"list\",\"trigger-change\":!0,dictCode:\"x_bill_type\",placeholder:\"请选择源单类型\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"源单号\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"sourceNo\",t.validatorRules.sourceNo],expression:\"[ 'sourceNo', validatorRules.sourceNo]\"}],attrs:{readOnly:t.readOnly,placeholder:\"请输入源单号\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"业务员\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-select-user-by-dep\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"clerkId\",t.validatorRules.clerkId],expression:\"['clerkId', validatorRules.clerkId]\"}],attrs:{disabled:t.readOnly,\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"出库经办\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-select-user-by-dep\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"handlerId\",t.validatorRules.handlerId],expression:\"['handlerId', validatorRules.handlerId]\"}],attrs:{disabled:t.readOnly,\"trigger-change\":!0}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"客户\",labelCol:t.spans.labelCol3,wrapperCol:t.spans.wrapperCol3}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"customerId\",t.validatorRules.customerId],expression:\"['customerId', validatorRules.customerId]\"}],attrs:{disabled:t.readOnly,type:\"list\",\"trigger-change\":!0,dictCode:\"bas_customer,name,id\",placeholder:\"请选择客户\"}})],1)],1),r(\"a-col\",{attrs:{span:8}},[r(\"a-form-item\",{attrs:{label:\"结算数量是否等于出库\",labelCol:{span:15},wrapperCol:{span:9}}},[r(\"j-dict-select-tag\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isSameSettle\",t.validatorRules.isSameSettle],expression:\"['isSameSettle', validatorRules.isSameSettle]\"}],attrs:{disabled:t.readOnly,type:\"list\",\"trigger-change\":!0,dictCode:\"yn\"},on:{change:t.onIsSameSettleChange}})],1)],1)],1),r(\"a-row\",[r(\"a-col\",{attrs:{span:24}},[r(\"a-form-item\",{attrs:{label:\"备注\",labelCol:t.spans.labelCol1,wrapperCol:t.spans.wrapperCol1}},[r(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"remark\",t.validatorRules.remark],expression:\"[ 'remark', validatorRules.remark]\"}],attrs:{readOnly:t.readOnly,rows:\"1\",autoSize:\"\"}})],1)],1),r(\"a-col\",{attrs:{span:24}},[r(\"a-form-item\",{attrs:{label:\"附件\",labelCol:t.spans.labelCol1,wrapperCol:t.spans.wrapperCol1}},[r(\"j-upload\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"attachment\",t.validatorRules.attachment],expression:\"['attachment', validatorRules.attachment]\"}],attrs:{disabled:t.readOnly,\"trigger-change\":!0}})],1)],1)],1)],1),r(\"a-tabs\",{on:{change:t.handleChangeTabs},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:\"activeKey\"}},[r(\"a-tab-pane\",{key:t.refKeys[0],attrs:{tab:\"明细\",forceRender:!0}},[r(\"j-editable-table\",{ref:t.refKeys[0],attrs:{disabled:t.readOnly,loading:t.stkIoBillEntryTable.loading,columns:t.stkIoBillEntryTable.columns,dataSource:t.stkIoBillEntryTable.dataSource,maxHeight:300,rowNumber:!1,rowSelection:!0,actionButton:!t.readOnly},on:{valueChange:t.onValueChange,added:t.onEntryAdded},scopedSlots:t._u([{key:\"batchNoSelectModal\",fn:function(e){return[r(\"a-button\",{attrs:{icon:\"ellipsis\"},on:{click:function(a){return t.handleBatchNoSelect(e)}}}),r(\"onl-cgreport-select-modal\",{ref:\"selectModal\",attrs:{title:\"选择库存批次\",reportId:\"49d9b3c81f5647dea5b4d1f431613920\",width:1100,multiSelectable:!0},on:{callback:function(a){return t.handleBatchNoSelectCallback(e,a)}}})]}}])})],1),r(\"template\",{slot:\"tabBarExtraContent\"},[r(\"editable-table-columns-setter\",{attrs:{columns:t.stkIoBillEntryTable.columns,tableName:\"stkIoBillEntryTable\"}})],1)],2)],1)],2)},l=[],i=a(\"88bc\"),s=a.n(i),n=a(\"e2e0\"),o=a(\"d0ed\"),c=a(\"2dab\"),d=a(\"cf74\"),u=a(\"c14a\"),p=a(\"7b16\"),m=a(\"0fea\"),f=a(\"33e3\"),h=a(\"30f7\"),y=a(\"500c\"),b=a(\"bc32\"),g=a(\"8b08\");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S={name:\"SalOutBillModal\",mixins:[o[\"a\"],f[\"billModalMixin\"]],components:{EditableTableColumnsSetter:y[\"default\"],JDate:c[\"default\"],JUpload:d[\"default\"],JSelectUserByDep:u[\"default\"],JDictSelectTag:p[\"default\"],OnlCgreportSelectModal:h[\"default\"]},data:function(){return{width:\"1200px\",moreStatus:!1,addDefaultRowNum:1,validatorRules:{stockIoType:{rules:[]},billNo:{rules:[{required:!0,message:\"请输入单据编号!\"}]},billDate:{rules:[{required:!0,message:\"请输入单据日期!\"}]},sourceType:{rules:[]},sourceId:{rules:[]},sourceNo:{rules:[]},clerkId:{rules:[]},handlerId:{rules:[]},hasRp:{rules:[]},isRubric:{rules:[]},isSameSettle:{rules:[]},supplierId:{rules:[]},customerId:{rules:[]},attachment:{rules:[]},remark:{rules:[]},billProcStatus:{rules:[]},approverId:{rules:[]},flowId:{rules:[]},isApproved:{rules:[]},effectiveTime:{rules:[]},isVoided:{rules:[]},isClosed:{rules:[]},sysOrgCode:{rules:[]},createBy:{rules:[]},createTime:{rules:[]},updateBy:{rules:[]},updateTime:{rules:[]}},refKeys:[\"stkIoBillEntry\"],tableKeys:[\"stkIoBillEntry\"],activeKey:\"stkIoBillEntry\",stkIoBillEntryTable:{loading:!1,dataSource:[],columns:[{title:\"分录号\",key:\"entryNo\",type:n[\"a\"].inputNumber,width:\"60px\",validateRules:[{required:!0,message:\"${title}不能为空\"},{pattern:/^[1-9]\\d*$/,message:\"请输入零以上的正整数\"},{handler:g[\"validateEntryNo\"]}]},{title:\"源单分录号\",key:\"sourceEntryNo\",type:n[\"a\"].input,width:\"180px\",defaultValue:\"\",disabled:!0},{title:\"物料\",key:\"materialId\",type:n[\"a\"].sel_search,dictCode:\"bas_material,name,id\",width:\"200px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"}],options:[]},{title:\"仓库\",key:\"warehouseId\",type:n[\"a\"].select,dictCode:\"bas_warehouse,name,id\",width:\"150px\",placeholder:\"请输入${title}\",defaultValue:\"\",options:[],validateRules:[{required:!0,message:\"${title}不能为空\"}]},{title:\"批次号\",key:\"batchNo\",type:n[\"a\"].input,width:\"200px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"}]},{title:\"\",key:\"batchNoSelectModal\",type:n[\"a\"].slot,slotName:\"batchNoSelectModal\",orgFields:\"material_id,warehouse_id,batch_no,unit_id,unit_id,qty,cost,id\",destFields:\"materialId,warehouseId,batchNo,unitId,inventoryUnitId,inventoryQty,inventoryCost,inventoryId\",width:\"45px\"},{title:\"库存单位\",key:\"inventoryUnitId\",type:n[\"a\"].select,dictCode:\"bas_measure_unit,name,id\",width:\"100px\",disabled:!0},{title:\"库存数量\",key:\"inventoryQty\",type:n[\"a\"].input,statistics:\"true\",width:\"100px\",disabled:!0},{title:\"出库单位\",key:\"unitId\",type:n[\"a\"].select,dictCode:\"bas_measure_unit,name,id\",width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"}],options:[]},{title:\"出库数量\",key:\"qty\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"},{handler:this.validateQty}]},{title:\"出库成本\",key:\"cost\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\",disabled:!0},{title:\"结算数量\",key:\"settleQty\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"}]},{title:\"含税单价\",key:\"settlePrice\",type:n[\"a\"].inputNumber,width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"税率%\",key:\"taxRate\",type:n[\"a\"].inputNumber,width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"税额\",key:\"tax\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"折让金额\",key:\"discountAmt\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"120px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"折让税额\",key:\"discountTax\",type:n[\"a\"].inputNumber,width:\"100px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"结算金额\",key:\"settleAmt\",type:n[\"a\"].inputNumber,statistics:\"true\",width:\"120px\",placeholder:\"请输入${title}\",defaultValue:\"\",validateRules:[{required:!0,message:\"${title}不能为空\"}]},{title:\"库存批次id\",key:\"inventoryId\",type:n[\"a\"].hidden,width:\"10px\",disabled:!0},{title:\"库存成本\",key:\"inventoryCost\",type:n[\"a\"].input,statistics:\"true\",width:\"100px\",disabled:!0},{title:\"已开票数量\",key:\"invoicedQty\",type:n[\"a\"].input,statistics:\"true\",width:\"100px\",disabled:!0},{title:\"已开票金额\",key:\"invoicedAmt\",type:n[\"a\"].input,statistics:\"true\",width:\"100px\",disabled:!0},{title:\"备注\",key:\"remark\",type:n[\"a\"].input,width:\"200px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"备注2\",key:\"remark2\",type:n[\"a\"].input,width:\"200px\",placeholder:\"请输入${title}\",defaultValue:\"\"},{title:\"备注3\",key:\"remark3\",type:n[\"a\"].input,width:\"200px\",placeholder:\"请输入${title}\",defaultValue:\"\"}]},url:{add:\"/stock/stkIoBill/add\",edit:\"/stock/stkIoBill/edit\",approve:\"/stock/stkIoBill/approve\",stkIoBillEntry:{list:\"/stock/stkIoBill/queryEntryByMainId\",editingList:\"/stock/stkIoBill/queryEditingEntryByMainId\"}}}},methods:{getAllTable:function(){var e=this,t=this.tableKeys.map((function(t){return Object(n[\"c\"])(e,t)}));return Promise.all(t)},addInit:function(){this.model.stockIoType=\"201\",this.model.isRubric=0,this.model.hasRp=1,this.model.isSameSettle=0,this.model.billProcStatus=\"12\";var e=\"/sys/fillRule/executeRuleByCode/\",t=\"stock_io_bill_no\",a=this;Object(m[\"j\"])(e+t,{}).then((function(e){e.success&&(a.model.billNo=e.result,a.$nextTick((function(){a.form.setFieldsValue({billNo:e.result,billDate:Object(b[\"getFormatDate\"])()})})))}))},editAfter:function(){var e=this;\"add\"===this.action&&this.addInit();var t=s()(this.model,\"billNo\",\"billDate\",\"sourceType\",\"sourceId\",\"sourceNo\",\"clerkId\",\"handlerId\",\"isRubric\",\"isSameSettle\",\"supplierId\",\"customerId\",\"attachment\",\"remark\",\"billProcStatus\",\"approverId\",\"flowId\",\"isApproved\",\"effectiveTime\",\"isVoided\",\"isClosed\",\"sysOrgCode\",\"createBy\",\"createTime\",\"updateBy\",\"updateTime\");if(this.$nextTick((function(){e.form.setFieldsValue(t),e.onIsSameSettleChange(e.model.isSameSettle.toString())})),this.model.id){var a={id:this.model.id},r=this.readOnly?this.url.stkIoBillEntry.list:this.url.stkIoBillEntry.editingList;this.requestSubTableData(r,a,this.stkIoBillEntryTable)}},classifyIntoFormData:function(e){var t=Object.assign(this.model,e.formValue);return w({},t,{stkIoBillEntryList:e.tablesValue[0].values})},validateError:function(e){this.$message.error(e)},popupCallback:function(e){this.form.setFieldsValue(s()(e,\"billNo\",\"billDate\",\"sourceType\",\"sourceId\",\"sourceNo\",\"clerkId\",\"handlerId\",\"isRubric\",\"isSameSettle\",\"supplierId\",\"customerId\",\"attachment\",\"remark\",\"billProcStatus\",\"approverId\",\"flowId\",\"isApproved\",\"effectiveTime\",\"isVoided\",\"isClosed\",\"sysOrgCode\",\"createBy\",\"createTime\",\"updateBy\",\"updateTime\"))},onIsSameSettleChange:function(e){if(this.$refs.stkIoBillEntry.columns.forEach((function(t,a,r){\"settleQty\"===t.key&&(t.disabled=\"1\"===e)})),\"1\"===e){var t=this.$refs.stkIoBillEntry.getValuesSync({validate:!1}),a=(t.error,t.values),r=!0,l=!1,i=void 0;try{for(var s,n=a[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;this.$refs.stkIoBillEntry.setValues([{rowKey:o.id,values:{settleQty:o.qty}}])}}catch(c){l=!0,i=c}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}}},onValueChange:function(e){e.type;var t=e.row,a=e.column,r=e.value,l=e.target;\"qty\"===a.key&&\"1\"===this.form.getFieldValue(\"isSameSettle\")&&l.setValues([{rowKey:t.id,values:{settleQty:r}}]);var i=Number(r),s=Number(t.inventoryQty),n=Number(t.inventoryCost);if(!isNaN(i)&&!isNaN(s)&&!isNaN(n)&&s>0&&t.unitId&&\"\"!==t.unitId&&t.inventoryUnitId&&\"\"!==t.inventoryUnitId){var o=t.unitId+\"/\"+t.inventoryUnitId,c=t.unitId===t.inventoryUnitId?1:Vue.ls.get(o);if(null==c){var d=\"/bas/basMeasureUnit/getRate\",u={toId:t.unitId,fromId:t.inventoryUnitId};Object(m[\"c\"])(d,u).then((function(e){if(e.success){c=e.result,Vue.ls.set(o,c,6048e5);var a=n*i/(s*c);a=a.toFixed(2),l.setValues([{rowKey:t.id,values:{cost:a}}])}}))}else{var p=n*i/(s*c);p=p.toFixed(2),l.setValues([{rowKey:t.id,values:{cost:p}}])}}},handleBatchNoSelect:function(e){for(var t=e.getValue(),a=e.column.orgFields.split(\",\"),r=e.column.destFields.split(\",\"),l={},i=0;i<a.length;i++)l[a[i]]=t[r[i]];this.$refs.selectModal.initQueryParams(l),this.$refs.selectModal.visible=!0},handleBatchNoSelectCallback:function(e,t){for(var a=e.rowId,r=e.target,l=e.column.orgFields.split(\",\"),i=e.column.destFields.split(\",\"),s=0;s<t.length;s++){for(var n={},o=0;o<l.length;o++)n[i[o]]=t[s][l[o]];if(0===s)r.setValues([{rowKey:a,values:n}]);else{r.add();var c=r.rows[r.rows.length-1].id;r.setValues([{rowKey:c,values:n}])}}},validateQty:function(e,t,a,r,l,i){if(\"blur\"===e){var s=i.getValuesSync({validate:!1,rowIds:[a.id]}),n=s.values,o=Number(n[0].inventoryQty),c=Number(t);if(isNaN(c)||isNaN(o))l();else if(c>o)l(!1,\"不能大于库存数量！\");else{var d=n[0].inventoryId;if(d){var u=0,p=i.getValuesSync({validate:!1});n=p.values;var m=!0,f=!1,h=void 0;try{for(var y,b=n[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var g=y.value;c=Number(g.qty),isNaN(c)||(u+=c)}}catch(v){f=!0,h=v}finally{try{m||null==b.return||b.return()}finally{if(f)throw h}}u>o?l(!1,\"该库存批次的出库数量合计不能大于库存数量！\"):l(!0)}else l()}}else l()}}},x=S,k=(a(\"8fb6\"),a(\"2877\")),I=Object(k[\"a\"])(x,r,l,!1,null,\"2a4fad8b\",null);t[\"default\"]=I.exports},2871:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-popover\",{attrs:{title:\"自定义列\",trigger:\"click\",placement:\"leftBottom\"}},[a(\"template\",{slot:\"content\"},[a(\"a-checkbox-group\",{staticStyle:{width:\"400px\"},attrs:{defaultValue:e.settingColumns},on:{change:e.onColSettingsChange},model:{value:e.settingColumns,callback:function(t){e.settingColumns=t},expression:\"settingColumns\"}},[a(\"a-row\",[e._l(e.defColumns_,(function(t,r){return[e.ignoreColumns.includes(t.key)||e.ignoreColumns.includes(t.dataIndex)?e._e():[a(\"a-col\",{attrs:{span:12}},[a(\"a-checkbox\",{attrs:{value:t.dataIndex}},[e._v(e._s(t.title))])],1)]]}))],2)],1)],1),a(\"a-button\",{attrs:{type:\"link\",icon:\"setting\"}},[e._v(\"自定义列\")])],2)},l=[],i=a(\"2b0e\");function s(e){return c(e)||o(e)||n()}function n(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function o(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var d={name:\"ListColumnsSetter\",props:{columns:{type:Array,required:!0},defColumns:{type:Array,required:!0},ignoreColumns:{type:Array,default:function(){return[\"rowIndex\",\"action\",\"flag\"]}},listName:{type:String,default:\"\"}},model:{prop:\"columns\",event:\"change\"},data:function(){return{defColumns_:[],settingColumns:[]}},computed:{ls_key:function(){return this.$route.name+\"/\"+this.listName+\":colsettings\"}},mounted:function(){var e;(e=this.defColumns_).push.apply(e,s(this.defColumns)),this.initColumns()},methods:{initColumns:function(){var e=this,t=i[\"default\"].ls.get(this.ls_key),a=[];if(null===t||void 0===t){var r=[];this.defColumns_.forEach((function(e,t,a){r.push(e.dataIndex)})),this.settingColumns=r,a=this.defColumns_}else this.settingColumns=t,a=this.defColumns_.filter((function(a){return!(!e.ignoreColumns.includes(a.key)&&!e.ignoreColumns.includes(a.dataIndex))||!!t.includes(a.dataIndex)}));this.$emit(\"change\",a)},onColSettingsChange:function(e){var t=this;i[\"default\"].ls.set(this.ls_key,e,6048e5),this.settingColumns=e;var a=this.defColumns_.filter((function(e){return!(!t.ignoreColumns.includes(e.key)&&!t.ignoreColumns.includes(e.dataIndex))||!!t.settingColumns.includes(e.dataIndex)}));this.$emit(\"change\",a)}}},u=d,p=a(\"2877\"),m=Object(p[\"a\"])(u,r,l,!1,null,null,null);t[\"default\"]=m.exports},\"30f7\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"j-modal\",{attrs:{visible:e.visible,width:e.width,title:e.title,fullscreen:e.fullscreen,switchFullscreen:e.switchFullscreen},on:{\"update:visible\":function(t){e.visible=t},\"update:fullscreen\":function(t){e.fullscreen=t},ok:e.handleOk}},[e._v(\"\\n`\\n    \"),a(\"div\",{staticClass:\"table-page-search-wrapper\"},[a(\"a-form\",{attrs:{layout:\"inline\"}},[e.queryFields&&e.queryFields.length>0?a(\"a-row\",{attrs:{gutter:24}},[e._l(e.queryFields,(function(t,r){return[t.readOnly?[a(\"a-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:r<3||e.toggleSearchStatus,expression:\"index<3 || toggleSearchStatus\"}],attrs:{md:6,sm:8}},[a(\"a-form-item\",{attrs:{label:t.label}},[a(\"a-input\",{attrs:{disabled:\"\"},model:{value:e.queryParams[t.field],callback:function(a){e.$set(e.queryParams,t.field,a)},expression:\"queryParams[item.field]\"}})],1)],1)]:[t.view.indexOf(\"Date\")>=0?a(\"a-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:r<3||e.toggleSearchStatus,expression:\"index<3 || toggleSearchStatus\"}],key:\"query\"+r,attrs:{md:12,sm:16}},[a(\"onl-cgreport-query-form-item\",{attrs:{queryParam:e.queryParams,item:t,dictOptions:e.dictOptions}})],1):a(\"a-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:r<3||e.toggleSearchStatus,expression:\"index<3 || toggleSearchStatus\"}],key:\"query\"+r,attrs:{md:6,sm:8}},[a(\"onl-cgreport-query-form-item\",{attrs:{queryParam:e.queryParams,item:t,dictOptions:e.dictOptions}})],1)]]})),a(\"a-col\",{attrs:{md:6,sm:8}},[a(\"span\",{staticClass:\"table-page-search-submitButtons\",staticStyle:{float:\"left\",overflow:\"hidden\"}},[a(\"a-button\",{attrs:{type:\"primary\",icon:\"search\"},on:{click:e.searchByQuery}},[e._v(\"查询\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{icon:\"reload\"},on:{click:e.searchReset}},[e._v(\"重置\")]),e.queryFields.length>3?a(\"a\",{staticStyle:{\"margin-left\":\"8px\"},on:{click:e.handleToggleSearch}},[e._v(\"\\n                \"+e._s(e.toggleSearchStatus?\"收起\":\"展开\")+\"\\n                \"),a(\"a-icon\",{attrs:{type:e.toggleSearchStatus?\"up\":\"down\"}})],1):e._e()],1)])],2):e._e()],1)],1),a(\"a-table\",{ref:\"table\",staticClass:\"j-table-force-nowrap\",staticStyle:{\"min-height\":\"300px\"},attrs:{size:\"small\",bordered:\"\",rowKey:\"id\",columns:e.table.columns,dataSource:e.table.dataSource,pagination:e.table.pagination,loading:e.table.loading,scroll:e.table.scroll,rowSelection:{fixed:!0,columnWidth:40,type:e.multiSelectable?\"checkbox\":\"radio\",selectedRowKeys:e.table.selectedRowKeys,onChange:e.handleChangeInTableSelect}},on:{change:e.handleChangeInTable}})],1)},l=[],i=(a(\"6eb7\"),a(\"0fea\")),s=a(\"89f2\"),n=a(\"ca00\");function o(e){return u(e)||d(e)||c()}function c(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function d(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var p={name:\"OnlCgreportSelectModal\",mixins:[],components:{},props:{title:{type:String,default:\"选择\"},reportId:{type:String,required:!0},params:{type:Object,default:function(){return{}}},multiSelectable:{type:Boolean,default:!1},width:{type:Number,default:1e3},fullscreen:{type:Boolean,default:!1},switchFullscreen:{type:Boolean,default:!0}},data:function(){return{visible:!1,queryFields:[],queryParamsMap:{},sqlParams:{},sorter:{column:\"\",order:\"desc\"},dictOptions:{},toggleSearchStatus:!1,description:\"\",url:{getColumnsAndData:\"/online/cgreport/api/getColumnsAndData/\",getqueryFields:\"/online/cgreport/api/getQueryInfo/\",getSqlParams:\"/online/cgreport/api/getParamsInfo/\"},table:{loading:!0,columns:[],dataSource:[],selectedRowKeys:[],selectionRows:[],scroll:{x:!0},pagination:{current:1,pageSize:10,pageSizeOptions:[\"10\",\"20\",\"30\"],showTotal:function(e,t){return t[0]+\"-\"+t[1]+\" 共\"+e+\"条\"},showQuickJumper:!0,showSizeChanger:!0,total:0}},cgreportHeadName:\"\"}},mounted:function(){this.initSqlParams(),this.initQueryFields()},computed:{queryParams:{get:function(){return this.queryParamsMap[this.reportId]},set:function(e){this.$set(this.queryParamsMap,this.reportId,e)}}},methods:{initSqlParams:function(){var e=this;this.sqlParams={},Object(i[\"c\"])(\"\".concat(this.url.getSqlParams).concat(this.reportId)).then((function(t){if(t.success){if(t.result&&t.result.length>0){var a=!0,r=!1,l=void 0;try{for(var i,s=t.result[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var n=i.value;e.sqlParams[\"self_\"+n.paramName]=e.params[n.paramName]?e.params[n.paramName]:\"\"}}catch(o){r=!0,l=o}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}}}else e.$message.warning(t.message)}))},initQueryFields:function(){var e=this;Object(i[\"c\"])(\"\".concat(this.url.getqueryFields).concat(this.reportId)).then((function(t){t.success?e.queryFields=t.result:e.$message.warning(t.message),e.loadData()}))},initQueryParams:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=[],r=!0,l=!1,i=void 0;try{for(var s,n=this.queryFields[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;if(o.readOnly=!1,t)for(var c in e)if(o.field===c){e[c]&&(o.readOnly=\"\"!==e[c]);break}a.push(o)}}catch(d){l=!0,i=d}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}this.queryFields=a,this.queryParams=e,this.loadData()},loadData:function(e){var t=this;1===e&&(this.table.pagination.current=1);var a=this.getQueryParams();this.table.loading=!0,Object(i[\"c\"])(\"\".concat(this.url.getColumnsAndData).concat(this.reportId),a).then((function(e){if(e.success){var a=e.result,r=a.data,l=a.columns,i=a.cgreportHeadName,n=a.dictOptions,c=a.fieldHrefSlots;t.dictOptions=n;for(var d=0;d<l.length;d++)l[d].customRender&&function(){var e=l[d].customRender;l[d].customRender=function(a){return a?Object(s[\"c\"])(t.dictOptions[e],a+\"\"):a}}();t.table.columns=o(l),t.cgreportHeadName=i,t.fieldHrefSlots=c,r?(t.table.pagination.total=Number(r.total),t.table.dataSource=r.records):(t.table.pagination.total=0,t.table.dataSource=[])}else t.$message.warn(\"查询失败：\"+e.message)})).catch((function(e){t.$message.error(\"查询失败\")})).finally((function(){t.table.loading=!1}))},getQueryParams:function(){var e=Object.assign({},this.queryParams,this.sorter,this.sqlParams);return e.pageNo=this.table.pagination.current,e.pageSize=this.table.pagination.pageSize,Object(n[\"d\"])(e)},searchByQuery:function(){this.loadData(1)},searchReset:function(){var e={},t=!0,a=!1,r=void 0;try{for(var l,i=this.queryFields[Symbol.iterator]();!(t=(l=i.next()).done);t=!0){var s=l.value;s.readOnly&&(queryParam[s.field]=this.queryParams[s.field])}}catch(n){a=!0,r=n}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}this.queryParams=e,this.loadData(1)},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},handleChangeInTableSelect:function(e,t){this.table.selectedRowKeys=e,this.table.selectionRows=t},handleChangeInTable:function(e,t,a){Object.keys(a).length>0?(this.sorter.column=a.field,this.sorter.order=\"ascend\"===a.order?\"asc\":\"desc\"):(this.sorter.column=null,this.sorter.order=null),this.table.pagination=e,this.loadData()},handleOk:function(){this.$emit(\"callback\",this.table.selectionRows)}}},m=p,f=(a(\"7842\"),a(\"2877\")),h=Object(f[\"a\"])(m,r,l,!1,null,\"a56558c8\",null);t[\"default\"]=h.exports},\"33e3\":function(e,t,a){\"use strict\";a.r(t),a.d(t,\"billModalMixin\",(function(){return i}));var r=a(\"e2e0\"),l=a(\"0fea\"),i={data:function(){return{action:\"\",spans:{labelCol1:{span:2},wrapperCol1:{span:22},labelCol1_5:{span:3},wrapperCol1_5:{span:21},labelCol2:{span:4},wrapperCol2:{span:20},labelCol3:{span:6},wrapperCol3:{span:18},labelCol6:{span:12},wrapperCol6:{span:12}}}},computed:{readOnly:function(){return\"add\"!==this.action&&\"edit\"!==this.action}},methods:{onEntryAdded:function(e){var t=e.row,a=e.target,r=a.getValuesSync({validate:!1}),l=r.values,i=0,s=!0,n=!1,o=void 0;try{for(var c,d=l[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value,p=Number(u[\"entryNo\"]);!isNaN(p)&&p>i&&(i=p)}}catch(m){n=!0,o=m}finally{try{s||null==d.return||d.return()}finally{if(n)throw o}}i+=this.entryNoStep||10,a.setValues([{rowKey:t.id,values:{entryNo:i}}])},handleSave:function(){this.handleOk()},handleSubmit:function(){var e=this;this.form.setFieldsValue({billProcStatus:\"13\"}),this.getAllTable().then((function(t){return Object(r[\"d\"])(e.form,t)})).then((function(t){if(\"function\"!==typeof e.classifyIntoFormData)throw e.throwNotFunction(\"classifyIntoFormData\");var a=e.classifyIntoFormData(t);return e.request(a)})).catch((function(t){e.form.setFieldsValue({billProcStatus:\"12\"}),t.error===r[\"b\"]&&(e.activeKey=null==t.index?e.activeKey:e.refKeys[t.index])}))},handleApproved:function(){var e=this;Object(l[\"j\"])(e.url.approve,{id:e.model.id}).then((function(t){t.success?(e.$message.success(t.message),e.$emit(\"ok\"),e.close()):e.$message.warning(t.message)}))}}}},\"500c\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-popover\",{attrs:{title:\"自定义列\",trigger:\"click\",placement:\"topRight\"}},[a(\"template\",{slot:\"content\"},[a(\"a-checkbox-group\",{staticStyle:{width:\"400px\"},attrs:{defaultValue:e.settingColumns},on:{change:e.onColSettingsChange},model:{value:e.settingColumns,callback:function(t){e.settingColumns=t},expression:\"settingColumns\"}},[a(\"a-row\",[e._l(e.columns,(function(t,r){return[e.ignoreColumns.includes(t.key)?e._e():[a(\"a-col\",{attrs:{span:12}},[a(\"a-checkbox\",{attrs:{value:t.key}},[e._v(e._s(t.title))])],1)]]}))],2)],1)],1),a(\"a-button\",{attrs:{type:\"link\",icon:\"setting\"}},[e._v(\"自定义列\")])],2)},l=[],i=a(\"2b0e\"),s=a(\"e2e0\"),n={name:\"EditableTableColumnsSetter\",props:{columns:{type:Array,required:!0},ignoreColumns:{type:Array,default:function(){return[\"rowIndex\",\"action\",\"flag\"]}},tableName:{type:String,default:\"\"}},data:function(){return{settingColumns:[]}},computed:{ls_key:function(){return this.$route.name+\"/\"+this.tableName+\":colsettings\"}},created:function(){this.initColumns()},methods:{initColumns:function(){var e=this,t=i[\"default\"].ls.get(this.ls_key);null==t?e.columns.forEach((function(t,a,r){e.settingColumns.push(t.key)})):(e.settingColumns=t,e.columns.forEach((function(a,r,l){e.ignoreColumns.includes(a.key)||(t.includes(a.key)?void 0!==a.typeDef&&null!==a.typeDef&&\"\"!==a.typeDef&&a.typeDef!==s[\"a\"].hidden&&(a.type=a.typeDef):(a.typeDef=a.type,a.type=s[\"a\"].hidden))})))},onColSettingsChange:function(e){var t=this;i[\"default\"].ls.set(this.ls_key,e,6048e5),t.settingColumns=e,t.columns.forEach((function(a,r,l){t.ignoreColumns.includes(a.key)||(e.includes(a.key)?void 0!==a.typeDef&&null!==a.typeDef&&\"\"!==a.typeDef&&a.typeDef!==s[\"a\"].hidden&&(a.type=a.typeDef):a.type!==s[\"a\"].hidden&&(a.typeDef=a.type,a.type=s[\"a\"].hidden))}))}}},o=n,c=a(\"2877\"),d=Object(c[\"a\"])(o,r,l,!1,null,null,null);t[\"default\"]=d.exports},\"5de1\":function(e,t,a){\"use strict\";var r=a(\"ce6e\"),l=a.n(r);l.a},\"622e\":function(e,t,a){},\"6aef\":function(e,t,a){\"use strict\";var r=a(\"622e\"),l=a.n(r);l.a},\"6eb7\":function(e,t,a){},7842:function(e,t,a){\"use strict\";var r=a(\"e9c9\"),l=a.n(r);l.a},\"88bc\":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,l=\"[object Arguments]\",i=\"[object Function]\",s=\"[object GeneratorFunction]\",n=\"[object Symbol]\",o=\"object\"==typeof t&&t&&t.Object===Object&&t,c=\"object\"==typeof self&&self&&self.Object===Object&&self,d=o||c||Function(\"return this\")();function u(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function p(e,t){var a=-1,r=e?e.length:0,l=Array(r);while(++a<r)l[a]=t(e[a],a,e);return l}function m(e,t){var a=-1,r=t.length,l=e.length;while(++a<r)e[l+a]=t[a];return e}var f=Object.prototype,h=f.hasOwnProperty,y=f.toString,b=d.Symbol,g=f.propertyIsEnumerable,v=b?b.isConcatSpreadable:void 0,w=Math.max;function C(e,t,a,r,l){var i=-1,s=e.length;a||(a=I),l||(l=[]);while(++i<s){var n=e[i];t>0&&a(n)?t>1?C(n,t-1,a,r,l):m(l,n):r||(l[l.length]=n)}return l}function S(e,t){return e=Object(e),x(e,t,(function(t,a){return a in e}))}function x(e,t,a){var r=-1,l=t.length,i={};while(++r<l){var s=t[r],n=e[s];a(n,s)&&(i[s]=n)}return i}function k(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,l=w(a.length-t,0),i=Array(l);while(++r<l)i[r]=a[t+r];r=-1;var s=Array(t+1);while(++r<t)s[r]=a[r];return s[t]=i,u(e,this,s)}}function I(e){return O(e)||_(e)||!!(v&&e&&e[v])}function N(e){if(\"string\"==typeof e||P(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-a?\"-0\":t}function _(e){return j(e)&&h.call(e,\"callee\")&&(!g.call(e,\"callee\")||y.call(e)==l)}var O=Array.isArray;function R(e){return null!=e&&D(e.length)&&!q(e)}function j(e){return B(e)&&R(e)}function q(e){var t=T(e)?y.call(e):\"\";return t==i||t==s}function D(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=r}function T(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function B(e){return!!e&&\"object\"==typeof e}function P(e){return\"symbol\"==typeof e||B(e)&&y.call(e)==n}var $=k((function(e,t){return null==e?{}:S(e,p(C(t,1),N))}));e.exports=$}).call(this,a(\"c8ba\"))},\"8a37\":function(e,t,a){},\"8b08\":function(e,t,a){\"use strict\";function r(e,t,a,r,l,i){if(\"blur\"===e){var s=i.getValuesSync({validate:!1}),n=s.values,o=0,c=!0,d=!1,u=void 0;try{for(var p,m=n[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var f=p.value;if(Number(f[\"entryNo\"])===Number(t)&&++o>=2)return void l(!1,\"${title}不能重复\")}}catch(h){d=!0,u=h}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}l(!0)}else l()}function l(e,t,a,r,l,i){if(\"blur\"===e){var s=Number(t);if(isNaN(s))l();else{var n=Number(this.form.getFieldValue(\"isRubric\"));0===n&&s<0?l(!1,\"蓝字单${title}不能为负数\"):1===n&&s>0?l(!1,\"红字单${title}不能为正数\"):l(!0)}}else l()}a.r(t),a.d(t,\"validateEntryNo\",(function(){return r})),a.d(t,\"validateByIsRubric\",(function(){return l}))},\"8fb6\":function(e,t,a){\"use strict\";var r=a(\"8a37\"),l=a.n(r);l.a},a505:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{staticStyle:{\"margin-top\":\"-70px\"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:\"关闭\",wrapClassName:\"ant-modal-cust-warp\"},on:{ok:e.handleSubmit,cancel:e.close}},[a(\"a-row\",{staticStyle:{\"background-color\":\"#ececec\",padding:\"10px\",margin:\"-10px\"},attrs:{gutter:10}},[a(\"a-col\",{attrs:{md:6,sm:24}},[a(\"a-card\",{attrs:{bordered:!1}},[a(\"a-directory-tree\",{attrs:{selectable:\"\",selectedKeys:e.selectedDepIds,checkStrictly:!0,dropdownStyle:{maxHeight:\"200px\",overflow:\"auto\"},treeData:e.departTree,expandAction:!1,expandedKeys:e.expandedKeys},on:{\"update:expandedKeys\":function(t){e.expandedKeys=t},\"update:expanded-keys\":function(t){e.expandedKeys=t},select:e.onDepSelect}})],1)],1),a(\"a-col\",{attrs:{md:18,sm:24}},[a(\"a-card\",{attrs:{bordered:!1}},[e._v(\"\\n        用户账号:\\n        \"),a(\"a-input-search\",{style:{width:\"150px\",marginBottom:\"15px\"},attrs:{placeholder:\"请输入账号\"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,\"username\",t)},expression:\"queryParam.username\"}}),a(\"a-button\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{icon:\"redo\"},on:{click:function(t){return e.searchReset(1)}}},[e._v(\"重置\")]),a(\"a-table\",{ref:\"table\",attrs:{scroll:e.scrollTrigger,size:\"middle\",rowKey:\"id\",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.getType},loading:e.loading},on:{change:e.handleTableChange}})],1)],1)],1)],1)},l=[],i=a(\"a34a\"),s=a.n(i),n=a(\"ca00\"),o=a(\"4ec3\");function c(e,t,a,r,l,i,s){try{var n=e[i](s),o=n.value}catch(c){return void a(c)}n.done?t(o):Promise.resolve(o).then(r,l)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(r,l){var i=e.apply(t,a);function s(e){c(i,r,l,s,n,\"next\",e)}function n(e){c(i,r,l,s,n,\"throw\",e)}s(void 0)}))}}var u={name:\"JSelectUserByDepModal\",components:{},props:[\"modalWidth\",\"multi\",\"userIds\"],data:function(){return{queryParam:{username:\"\"},columns:[{title:\"用户账号\",align:\"center\",dataIndex:\"username\"},{title:\"用户姓名\",align:\"center\",dataIndex:\"realname\"},{title:\"性别\",align:\"center\",dataIndex:\"sex\",customRender:function(e){return 1===e?\"男\":2===e?\"女\":e}},{title:\"手机\",align:\"center\",dataIndex:\"phone\"},{title:\"部门\",align:\"center\",dataIndex:\"orgCode\"}],scrollTrigger:{},dataSource:[],selectedRowKeys:[],selectUserRows:[],selectUserIds:[],title:\"根据部门选择用户\",ipagination:{current:1,pageSize:10,pageSizeOptions:[\"10\",\"20\",\"30\"],showTotal:function(e,t){return t[0]+\"-\"+t[1]+\" 共\"+e+\"条\"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:\"createTime\",order:\"desc\"},selectedDepIds:[],departTree:[],visible:!1,form:this.$form.createForm(this),loading:!1,expandedKeys:[]}},computed:{getType:function(){return 1==this.multi?\"checkbox\":\"radio\"}},watch:{userIds:{immediate:!0,handler:function(){this.initUserNames()}}},created:function(){this.resetScreenSize(),this.loadData()},methods:{initUserNames:function(){var e=this;if(this.userIds){var t=this.userIds.split(\",\")+\",\";Object(o[\"A\"])({username:t,pageNo:1,pageSize:t.length}).then((function(t){if(t.success){var a=[],r=[];t.result.records.forEach((function(e){r.push(e[\"realname\"]),a.push(e[\"id\"])})),e.selectedRowKeys=a,e.$emit(\"initComp\",r.join(\",\"))}}))}else this.$emit(\"initComp\",\"\")},loadData:function(){var e=d(s.a.mark((function e(t){var a,r=this;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1===t&&(this.ipagination.current=1),!(this.selectedDepIds&&this.selectedDepIds.length>0)){e.next=6;break}return e.next=4,this.initQueryUserByDepId(this.selectedDepIds);case 4:e.next=10;break;case 6:return this.loading=!0,a=this.getQueryParams(),e.next=10,Object(o[\"A\"])(a).then((function(e){e.success&&(r.dataSource=e.result.records,r.ipagination.total=e.result.total)})).finally((function(){r.loading=!1}));case 10:case\"end\":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.queryDepartTree(),this.initUserNames(),this.loadData(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(n[\"d\"])(e)},getQueryField:function(){for(var e=\"id,\",t=0;t<this.columns.length;t++)e+=\",\"+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.queryParam={},t.loadData(1)),t.selectedRowKeys=[],t.selectUserIds=[],t.selectedDepIds=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order=\"ascend\"===a.order?\"asc\":\"desc\"),this.ipagination=e,this.loadData()},handleSubmit:function(){var e=this;this.getSelectUserRows(),e.$emit(\"ok\",e.selectUserRows,e.selectUserIds),e.searchReset(0),e.close()},getSelectUserRows:function(e){var t=this.dataSource,a=\"\";this.selectUserRows=[];for(var r=0,l=t.length;r<l;r++)this.selectedRowKeys.includes(t[r].id)&&(this.selectUserRows.push(t[r]),a=a+\",\"+t[r].username);this.selectUserIds=a.substring(1)},onDepSelect:function(e){null!=e[0]&&(this.initQueryUserByDepId(e),this.selectedDepIds[0]!==e[0]&&(this.selectedDepIds=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},initQueryUserByDepId:function(e){var t=this;return this.loading=!0,Object(o[\"N\"])({id:e.toString()}).then((function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length)})).finally((function(){t.loading=!1}))},queryDepartTree:function(){var e=this;Object(o[\"D\"])().then((function(t){t.success&&(e.departTree=t.result,e.expandedKeys=e.departTree.map((function(e){return e.id})))}))},modalFormOk:function(){this.loadData()}}},p=u,m=(a(\"5de1\"),a(\"2877\")),f=Object(m[\"a\"])(p,r,l,!1,null,\"2835ef72\",null);t[\"default\"]=f.exports},bc32:function(e,t,a){\"use strict\";function r(){var e=new Date,t=\"-\",a=e.getFullYear(),r=e.getMonth()+1,l=e.getDate();r>=1&&r<=9&&(r=\"0\"+r),l>=0&&l<=9&&(l=\"0\"+l);var i=a+t+r+t+l;return i}a.r(t),a.d(t,\"getFormatDate\",(function(){return r})),String.prototype.format=function(){var e=arguments;return this.replace(/\\{(\\d+)\\}/g,(function(t,a){return e.length>a?e[a]:\"\"}))}},c14a:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"a-input-search\",{attrs:{placeholder:\"请先选择用户\",readOnly:\"\",unselectable:\"on\"},on:{search:e.onSearchDepUser},model:{value:e.userNames,callback:function(t){e.userNames=t},expression:\"userNames\"}},[a(\"a-button\",{attrs:{slot:\"enterButton\",disabled:e.disabled},slot:\"enterButton\"},[e._v(\"选择用户\")])],1),a(\"j-select-user-by-dep-modal\",{ref:\"selectModal\",attrs:{\"modal-width\":e.modalWidth,multi:e.multi,\"user-ids\":e.value},on:{ok:e.selectOK,initComp:e.initComp}})],1)},l=[],i=a(\"a505\"),s={name:\"JSelectUserByDep\",components:{JSelectUserByDepModal:i[\"default\"]},props:{modalWidth:{type:Number,default:1250,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},multi:{type:Boolean,default:!0,required:!1}},data:function(){return{userIds:\"\",userNames:\"\"}},mounted:function(){this.userIds=this.value},watch:{value:function(e){this.userIds=e}},model:{prop:\"value\",event:\"change\"},methods:{initComp:function(e){this.userNames=e},onSearchDepUser:function(){this.$refs.selectModal.showModal()},selectOK:function(e,t){if(e){var a=\"\",r=!0,l=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(r=(s=n.next()).done);r=!0){var o=s.value;a+=\",\"+o.realname}}catch(c){l=!0,i=c}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}this.userNames=a.substring(1),this.userIds=t}else this.userNames=\"\",this.userIds=\"\";this.$emit(\"change\",this.userIds)}}},n=s,o=a(\"2877\"),c=Object(o[\"a\"])(n,r,l,!1,null,\"bd3f15c8\",null);t[\"default\"]=c.exports},ce6e:function(e,t,a){},d0ed:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return s}));var r=a(\"7550\"),l=a(\"e2e0\"),i=a(\"0fea\"),s={components:{JEditableTable:r[\"default\"]},data:function(){return{title:\"操作\",visible:!1,form:this.$form.createForm(this),confirmLoading:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}},methods:{getAllTable:function(){var e=this;if(!(this.refKeys instanceof Array))throw this.throwNotArray(\"refKeys\");var t=this.refKeys.map((function(t){return Object(l[\"c\"])(e,t)}));return Promise.all(t)},eachAllTable:function(e){this.getAllTable().then((function(t){t.forEach((function(t,a){\"function\"===typeof e&&e(t,a)}))}))},add:function(){\"function\"===typeof this.addBefore&&this.addBefore();var e=this.addDefaultRowNum;\"number\"!==typeof e&&(e=1),this.eachAllTable((function(t){t.add(e)})),\"function\"===typeof this.addAfter&&this.addAfter(this.model),this.edit({})},edit:function(e){\"function\"===typeof this.editBefore&&this.editBefore(e),this.visible=!0,this.activeKey=this.refKeys[0],this.form.resetFields(),this.model=Object.assign({},e),\"function\"===typeof this.editAfter&&this.editAfter(this.model)},close:function(){this.visible=!1,this.eachAllTable((function(e){e.initialize()})),this.$emit(\"close\")},requestSubTableData:function(e,t,a,r){a.loading=!0,Object(i[\"c\"])(e,t).then((function(e){var t=e.result,l=[];t&&(Array.isArray(t)?l=t:Array.isArray(t.records)&&(l=t.records)),a.dataSource=l,\"function\"===typeof r&&r(e)})).finally((function(){a.loading=!1}))},request:function(e){var t=this,a=this.url.add,r=\"post\";this.model.id&&(a=this.url.edit,r=\"put\"),this.confirmLoading=!0,Object(i[\"h\"])(a,e,r).then((function(e){e.success?(t.$message.success(e.message),t.$emit(\"ok\"),t.close()):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))},handleChangeTabs:function(e){Object(l[\"c\"])(this,e).then((function(e){e.resetScrollTop()}))},handleCancel:function(){this.close()},handleOk:function(){var e=this;this.getAllTable().then((function(t){return Object(l[\"d\"])(e.form,t)})).then((function(t){if(\"function\"!==typeof e.classifyIntoFormData)throw e.throwNotFunction(\"classifyIntoFormData\");var a=e.classifyIntoFormData(t);return e.request(a)})).catch((function(t){t.error===l[\"b\"]&&(e.activeKey=null==t.index?e.activeKey:e.refKeys[t.index])}))},throwNotFunction:function(e){return\"\".concat(e,\" 未定义或不是一个函数\")},throwNotArray:function(e){return\"\".concat(e,\" 未定义或不是一个数组\")}}}},e9c9:function(e,t,a){},f8c7:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"billListMixin\",(function(){return r}));var r={computed:{importExcelUrl:function(){return\"\".concat(window._CONFIG[\"domianURL\"],\"/\").concat(this.url.importExcelUrl)},isBatchDelEnabled:function(){for(var e=0;e<this.selectedRowKeys.length;e++)if(!this.selectionRows[e].actionsEnabled.delete)return!1;return!0}},methods:{myHandleAdd:function(){this.$refs.modalForm.action=\"add\",this.handleAdd()},myHandleEdit:function(e){e.billProcStatus=\"12\",this.$refs.modalForm.action=\"edit\",this.handleEdit(e)},myHandleDetail:function(e){this.$refs.modalForm.action=\"detail\",this.handleDetail(e)},handleApprove:function(e){this.$refs.modalForm.action=\"approve\",this.$refs.modalForm.edit(e),this.$refs.modalForm.title=\"审核\"}}}},fc2d:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-card\",{attrs:{bordered:!1}},[a(\"div\",{staticClass:\"table-page-search-wrapper\"},[a(\"a-form\",{attrs:{layout:\"inline\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.searchQuery(t)}}},[a(\"a-row\",{attrs:{gutter:24}},[a(\"a-col\",{attrs:{xl:6,lg:7,md:8,sm:24}},[a(\"a-form-item\",{attrs:{label:\"单据编号\"}},[a(\"a-input\",{attrs:{placeholder:\"请输入单据编号\"},model:{value:e.queryParam.billNo_begin,callback:function(t){e.$set(e.queryParam,\"billNo_begin\",t)},expression:\"queryParam.billNo_begin\"}})],1)],1),a(\"a-col\",{attrs:{xl:8,lg:9,md:10,sm:24}},[a(\"a-form-item\",{attrs:{label:\"单据日期\"}},[a(\"j-date\",{staticClass:\"query-group-cust\",attrs:{placeholder:\"请选择开始\"},model:{value:e.queryParam.billDate_begin,callback:function(t){e.$set(e.queryParam,\"billDate_begin\",t)},expression:\"queryParam.billDate_begin\"}}),a(\"span\",{staticClass:\"query-group-split-cust\"}),a(\"j-date\",{staticClass:\"query-group-cust\",attrs:{placeholder:\"请选择结束\"},model:{value:e.queryParam.billDate_end,callback:function(t){e.$set(e.queryParam,\"billDate_end\",t)},expression:\"queryParam.billDate_end\"}})],1)],1),e.toggleSearchStatus?[a(\"a-col\",{attrs:{xl:6,lg:7,md:8,sm:24}},[a(\"a-form-item\",{attrs:{label:\"业务员\"}},[a(\"j-select-user-by-dep\",{model:{value:e.queryParam.clerkId,callback:function(t){e.$set(e.queryParam,\"clerkId\",t)},expression:\"queryParam.clerkId\"}})],1)],1),a(\"a-col\",{attrs:{xl:6,lg:7,md:8,sm:24}},[a(\"a-form-item\",{attrs:{label:\"客户\"}},[a(\"j-dict-select-tag\",{attrs:{dictCode:\"bas_customer,name,id\"},model:{value:e.queryParam.customerId,callback:function(t){e.$set(e.queryParam,\"customerId\",t)},expression:\"queryParam.customerId\"}})],1)],1),a(\"a-col\",{attrs:{xl:4,lg:6,md:7,sm:24}},[a(\"a-form-item\",{attrs:{label:\"是否通过\"}},[a(\"j-dict-select-tag\",{attrs:{dictCode:\"yn\"},model:{value:e.queryParam.isApproved,callback:function(t){e.$set(e.queryParam,\"isApproved\",t)},expression:\"queryParam.isApproved\"}})],1)],1),a(\"a-col\",{attrs:{xl:4,lg:6,md:7,sm:24}},[a(\"a-form-item\",{attrs:{label:\"是否作废\"}},[a(\"j-dict-select-tag\",{attrs:{dictCode:\"yn\"},model:{value:e.queryParam.isVoided,callback:function(t){e.$set(e.queryParam,\"isVoided\",t)},expression:\"queryParam.isVoided\"}})],1)],1)]:e._e(),a(\"span\",{staticClass:\"table-page-search-submitButtons\",staticStyle:{float:\"left\",overflow:\"hidden\"}},[a(\"a-col\",{attrs:{md:6,sm:24}},[a(\"a-button\",{attrs:{type:\"primary\",icon:\"search\"},on:{click:e.searchQuery}},[e._v(\"查询\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{icon:\"reload\"},on:{click:e.searchReset}},[e._v(\"重置\")]),e.toggleSearchStatus?a(\"j-super-query\",{ref:\"superQueryModal\",staticStyle:{\"margin-left\":\"16px\"},attrs:{fieldList:e.fieldList},on:{handleSuperQuery:e.handleSuperQuery}}):e._e(),a(\"a\",{staticStyle:{\"margin-left\":\"8px\"},on:{click:e.handleToggleSearch}},[e._v(\"\\n              \"+e._s(e.toggleSearchStatus?\"收起\":\"展开\")+\"\\n              \"),a(\"a-icon\",{attrs:{type:e.toggleSearchStatus?\"up\":\"down\"}})],1)],1)],1)],2)],1)],1),a(\"div\",{staticClass:\"table-operator\"},[a(\"a-button\",{attrs:{type:\"link\",icon:\"plus\"},on:{click:e.myHandleAdd}},[e._v(\"新增\")]),e.selectedRowKeys.length>0?a(\"a-dropdown\",[a(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[a(\"a-menu-item\",{key:\"1\",attrs:{disabled:!e.isBatchDelEnabled},on:{click:e.batchDel}},[a(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\")],1)],1),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\" 批量操作 \"),a(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e(),a(\"i\",{staticClass:\"anticon anticon-info-circle ant-alert-icon\"}),e._v(\" 已选择 \"),a(\"a\",{staticStyle:{\"font-weight\":\"600\"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v(\"项\\n    \"),a(\"a\",{staticStyle:{\"margin-left\":\"12px\"},on:{click:e.onClearSelected}},[e._v(\"清空\")]),a(\"list-columns-setter\",{staticStyle:{float:\"right\"},attrs:{\"def-columns\":e.columns},model:{value:e.columns,callback:function(t){e.columns=t},expression:\"columns\"}})],1),a(\"div\",[a(\"a-table\",{ref:\"table\",attrs:{size:\"middle\",bordered:\"\",rowKey:\"id\",scroll:{x:2200},columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,columnWidth:40,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:\"billNo\",fn:function(t,r){return a(\"a\",{on:{click:function(t){return e.myHandleDetail(r)}}},[e._v(e._s(t))])}},{key:\"action\",fn:function(t,r){return a(\"span\",{},[a(\"a\",{attrs:{disabled:!r.actionsEnabled.edit},on:{click:function(t){return e.myHandleEdit(r)}}},[e._v(\"编辑\")]),a(\"a-divider\",{attrs:{type:\"vertical\"}}),a(\"a-dropdown\",[a(\"a\",{staticClass:\"ant-dropdown-link\"},[e._v(\"更多 \"),a(\"a-icon\",{attrs:{type:\"down\"}})],1),a(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[a(\"a-menu-item\",{key:\"1\",attrs:{disabled:!r.actionsEnabled.delete}},[a(\"a-popconfirm\",{attrs:{title:\"确定删除吗?\"},on:{confirm:function(){return e.handleDelete(r.id)}}},[e._v(\"删除\")])],1),a(\"a-menu-item\",{key:\"2\",attrs:{disabled:!r.actionsEnabled.approve},on:{click:function(t){return e.handleApprove(r)}}},[e._v(\"审核\")])],1)],1)],1)}}])})],1),a(\"sal-out-bill-modal\",{ref:\"modalForm\",on:{ok:e.modalFormOk}})],1)},l=[],i=a(\"b65a\"),s=a(\"c14a\"),n=a(\"8c6e\"),o=a(\"0ee5\"),c=a(\"2dab\"),d=a(\"2871\"),u=a(\"f8c7\"),p=[{type:\"string\",value:\"billNo\",text:\"单据编号\"},{type:\"date\",value:\"billDate\",text:\"单据日期\"},{type:\"select\",value:\"isVoided\",text:\"是否作废\",dictCode:\"yn\"}],m={name:\"SalOutBillList\",mixins:[i[\"a\"],u[\"billListMixin\"]],components:{JDate:c[\"default\"],JSuperQuery:n[\"default\"],JSelectUserByDep:s[\"default\"],ListColumnsSetter:d[\"default\"],SalOutBillModal:o[\"default\"]},data:function(){return{description:\"销售出库\",columns:[{title:\"#\",dataIndex:\"\",key:\"rowIndex\",fixed:\"left\",width:40,align:\"center\",customRender:function(e,t,a){return parseInt(a)+1}},{title:\"单据编号\",fixed:\"left\",width:180,align:\"center\",dataIndex:\"billNo\",scopedSlots:{customRender:\"billNo\"}},{title:\"单据日期\",width:90,align:\"center\",dataIndex:\"billDate\",customRender:function(e){return e?e.length>10?e.substr(0,10):e:\"\"}},{title:\"源单号\",width:180,align:\"center\",dataIndex:\"sourceNo\"},{title:\"制单人\",width:75,align:\"center\",dataIndex:\"createBy_dictText\"},{title:\"业务员\",width:75,align:\"center\",dataIndex:\"clerkId_dictText\"},{title:\"客户\",align:\"center\",dataIndex:\"customerId_dictText\"},{title:\"处理状态\",width:75,align:\"center\",dataIndex:\"billProcStatus_dictText\"},{title:\"是否通过\",width:75,align:\"center\",dataIndex:\"isApproved_dictText\"},{title:\"是否关闭\",width:75,align:\"center\",dataIndex:\"isClosed_dictText\"},{title:\"是否作废\",width:75,align:\"center\",dataIndex:\"isVoided_dictText\"},{title:\"备注\",align:\"left\",dataIndex:\"remark\"},{title:\"生效时间\",width:90,align:\"center\",dataIndex:\"effectiveTime\",customRender:function(e){return e?e.length>10?e.substr(0,10):e:\"\"}},{title:\"审核人\",width:75,align:\"center\",dataIndex:\"approverId_dictText\"},{title:\"流程\",width:100,align:\"center\",dataIndex:\"flowId\"},{title:\"创建时间\",width:90,align:\"center\",dataIndex:\"createTime\",customRender:function(e){return e?e.length>10?e.substr(0,10):e:\"\"}},{title:\"创建部门\",width:120,align:\"center\",dataIndex:\"sysOrgCode_dictText\"},{title:\"修改时间\",width:90,align:\"center\",dataIndex:\"updateTime\",customRender:function(e){return e?e.length>10?e.substr(0,10):e:\"\"}},{title:\"修改人\",width:75,align:\"center\",dataIndex:\"updateBy_dictText\"},{title:\"操作\",dataIndex:\"action\",fixed:\"right\",width:120,align:\"center\",scopedSlots:{filterDropdown:\"filterDropdown\",filterIcon:\"filterIcon\",customRender:\"action\"}}],url:{list:\"/stock/stkIoBill/list/201/0\",delete:\"/stock/stkIoBill/delete\",deleteBatch:\"/stock/stkIoBill/deleteBatch\",exportXlsUrl:\"/stock/stkIoBill/exportXls/201/0\",importExcelUrl:\"stock/stkIoBill/importExcel\"},dictOptions:{},fieldList:p}},methods:{initDictConfig:function(){}}},f=m,h=(a(\"6aef\"),a(\"2877\")),y=Object(h[\"a\"])(f,r,l,!1,null,\"6f4facd0\",null);t[\"default\"]=y.exports}}]);","extractedComments":[]}